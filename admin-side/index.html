<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Sri Pickles</title>

    <!-- Tailwind CSS (Same Theme) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'spice-red': '#D32F2F',
                        'mango-green': '#388E3C',
                        'mustard-yellow': '#FBC02D',
                        'off-white': '#FAFAFA',
                        'light-gray': '#F5F5F5',
                        'sand': '#FEF9E7',
                        'gold': '#DAA520',
                        'saffron': '#FF9933'
                    },
                    fontFamily: {
                        serif: ['Crimson Text', 'serif'],
                        sans: ['Lato', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400&family=Lato:wght@300;400;700&display=swap"
        rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

    <!-- Admin CSS -->
    <link rel="stylesheet" href="css/admin.css">
</head>

<body class="bg-gray-100 font-sans text-gray-800">

    <!-- Login Container (DISABLED FOR DEV INTEGRATION) -->
    <div id="login-container" class="fixed inset-0 z-50 flex items-center justify-center bg-sand hidden">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md border-t-4 border-spice-red">
            <div class="text-center mb-6">
                <i data-lucide="shield-check" class="w-12 h-12 text-spice-red mx-auto mb-2"></i>
                <h1 class="font-serif text-3xl font-bold text-gray-800">Admin Portal</h1>
                <p class="text-gray-500">Sri Pickles Management</p>
            </div>
            <form id="admin-login-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">Admin Email</label>
                    <input type="email" id="admin-email" required
                        class="w-full border border-gray-300 rounded p-2 focus:ring-2 focus:ring-spice-red focus:outline-none">
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">Password</label>
                    <input type="password" id="admin-password" required
                        class="w-full border border-gray-300 rounded p-2 focus:ring-2 focus:ring-spice-red focus:outline-none">
                </div>
                <div id="login-error" class="text-red-600 text-sm font-bold hidden text-center"></div>
                <button type="submit"
                    class="w-full bg-spice-red text-white py-3 rounded font-bold hover:bg-red-700 transition-colors">
                    Login to Dashboard
                </button>
            </form>
        </div>
    </div>

    <!-- Main Dashboard Application (Shown by default for DEV) -->
    <div id="app-container" class="flex h-screen overflow-hidden">

        <!-- Sidebar -->
        <aside
            class="w-64 bg-white border-r border-gray-200 shadow-md flex-shrink-0 flex flex-col transition-all duration-300"
            id="sidebar">
            <div class="p-6 border-b border-gray-100 flex items-center gap-3">
                <div class="w-10 h-10 bg-spice-red rounded-full flex items-center justify-center text-white">
                    <i data-lucide="flower-2" class="w-6 h-6"></i>
                </div>
                <div>
                    <h2 class="font-serif text-xl font-bold text-gray-800">Sri Pickles</h2>
                    <span class="text-xs text-green-600 font-bold uppercase tracking-wider">Admin Panel</span>
                </div>
            </div>

            <nav class="flex-1 overflow-y-auto py-4 px-3 space-y-1">
                <button onclick="switchTab('dashboard')" id="nav-dashboard"
                    class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-md text-spice-red bg-red-50">
                    <i data-lucide="layout-dashboard" class="w-5 h-5"></i> Dashboard
                </button>
                <button onclick="switchTab('growth')" id="nav-growth"
                    class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors">
                    <i data-lucide="line-chart" class="w-5 h-5"></i> Growth
                </button>
                <button onclick="switchTab('orders')" id="nav-orders"
                    class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors">
                    <i data-lucide="shopping-cart" class="w-5 h-5"></i> Orders
                    <span id="pending-count-badge"
                        class="ml-auto bg-red-100 text-red-600 py-0.5 px-2 rounded-full text-xs font-bold hidden">0</span>
                </button>
                <button onclick="switchTab('products')" id="nav-products"
                    class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors">
                    <i data-lucide="package" class="w-5 h-5"></i> Products & Stock
                    <span id="products-count-badge"
                        class="ml-auto bg-orange-100 text-orange-600 py-0.5 px-2 rounded-full text-xs font-bold hidden">0</span>
                </button>
                <button onclick="switchTab('customers')" id="nav-customers"
                    class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors">
                    <i data-lucide="users" class="w-5 h-5"></i> Customers
                    <span id="customers-count-badge"
                        class="ml-auto bg-blue-100 text-blue-600 py-0.5 px-2 rounded-full text-xs font-bold hidden">0</span>
                </button>
                <button onclick="switchTab('queries')" id="nav-queries"
                    class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors">
                    <i data-lucide="message-square" class="w-5 h-5"></i> Inquiries
                    <span id="inquiries-count-badge"
                        class="ml-auto bg-purple-100 text-purple-600 py-0.5 px-2 rounded-full text-xs font-bold hidden">0</span>
                </button>
                <button onclick="switchTab('profile')" id="nav-profile"
                    class="nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-colors">
                    <i data-lucide="shield-check" class="w-5 h-5"></i> Team
                </button>
            </nav>

            <div class="p-4 border-t border-gray-200">
                <button onclick="handleLogout()"
                    class="w-full flex items-center gap-3 px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-md transition-colors">
                    <i data-lucide="log-out" class="w-5 h-5"></i> Logout
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col min-w-0 overflow-hidden bg-sand/30">
            <!-- Header -->
            <header
                class="bg-white border-b border-gray-200 py-4 px-6 flex justify-between items-center shadow-sm z-10">
                <h2 id="page-title" class="text-2xl font-serif font-bold text-gray-800">Overview</h2>
                <div class="flex items-center gap-4">
                    <button class="p-2 text-gray-500 hover:text-spice-red transition-colors relative">
                        <i data-lucide="bell" class="w-5 h-5"></i>
                        <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                    </button>
                    <div class="flex items-center gap-3">
                        <div id="admin-header-avatar"
                            class="w-8 h-8 rounded-full bg-gray-200 border border-gray-300 overflow-hidden relative">
                            <i data-lucide="user" class="w-full h-full p-1 text-gray-500"></i>
                        </div>
                        <div class="hidden md:block">
                            <p id="admin-name" class="text-sm font-bold text-gray-700">Admin User</p>
                            <p class="text-xs text-gray-500 admin-role-text">Member</p>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Scrollable Content Area -->
            <div class="flex-1 overflow-auto p-6 transition-all" id="main-scroll-area">

                <!-- 1. DASHBOARD VIEW -->
                <div id="view-dashboard" class="space-y-6 view-section">


                    <!-- Stats Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Revenue -->
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-spice-red">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium uppercase tracking-wider">Total Revenue
                                    </p>
                                    <h3 class="text-3xl font-bold text-gray-800 mt-1" id="dash-revenue">₹0</h3>
                                    <p class="text-green-600 text-xs font-bold mt-2 flex items-center">
                                        <i data-lucide="trending-up" class="w-3 h-3 mr-1"></i> +12% this month
                                    </p>
                                </div>
                                <div class="bg-red-50 p-3 rounded-md text-spice-red">
                                    <i data-lucide="indian-rupee" class="w-6 h-6"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Orders -->
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-blue-500">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium uppercase tracking-wider">Active Orders
                                    </p>
                                    <h3 class="text-3xl font-bold text-gray-800 mt-1" id="dash-orders-count">0</h3>
                                    <p class="text-blue-600 text-xs font-bold mt-2">Pending Fulfillment</p>
                                </div>
                                <div class="bg-blue-50 p-3 rounded-md text-blue-500">
                                    <i data-lucide="shopping-bag" class="w-6 h-6"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Customers -->
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-green-500">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium uppercase tracking-wider">Total Users
                                    </p>
                                    <h3 class="text-3xl font-bold text-gray-800 mt-1" id="dash-users-count">0</h3>
                                    <p class="text-green-600 text-xs font-bold mt-2">Growing community</p>
                                </div>
                                <div class="bg-green-50 p-3 rounded-md text-green-500">
                                    <i data-lucide="users" class="w-6 h-6"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Products/Stock -->
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-yellow-500 cursor-pointer transition-transform hover:scale-[1.02]"
                            onclick="switchTab('products'); setTimeout(() => { const f = document.getElementById('product-stock-filter'); if(f) { f.value = 'low'; f.dispatchEvent(new Event('change')); } }, 300)">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm font-medium uppercase tracking-wider">Low Stock</p>
                                    <h3 class="text-3xl font-bold text-gray-800 mt-1 text-yellow-600"
                                        id="dash-low-stock">0</h3>
                                    <p class="text-gray-500 text-xs mt-2">Items need restock</p>
                                </div>
                                <div class="bg-yellow-50 p-3 rounded-md text-yellow-500">
                                    <i data-lucide="alert-triangle" class="w-6 h-6"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="bg-white p-6 rounded-lg shadow-sm lg:col-span-2">
                            <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <i data-lucide="bar-chart" class="w-5 h-5 text-gray-400"></i> Revenue Analytics
                            </h3>
                            <div class="relative h-64 w-full">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <i data-lucide="pie-chart" class="w-5 h-5 text-gray-400"></i> Top Sellers
                            </h3>
                            <div class="relative h-64 w-full flex items-center justify-center">
                                <canvas id="productsChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                            <h3 class="text-lg font-bold text-gray-800">Recent Orders</h3>
                            <button onclick="switchTab('orders')"
                                class="text-sm text-spice-red font-bold hover:underline">View All</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-50 text-gray-500 uppercase tracking-wider font-bold">
                                    <tr>
                                        <th class="px-6 py-3">Order ID</th>
                                        <th class="px-6 py-3">Customer</th>
                                        <th class="px-6 py-3">Status</th>
                                        <th class="px-6 py-3">Amount</th>
                                        <th class="px-6 py-3 text-right">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-orders-body" class="divide-y divide-gray-100">
                                    <!-- Populated via JS -->
                                    <tr>
                                        <td colspan="5" class="px-6 py-8 text-center text-gray-400 italic">Loading
                                            data...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- 2. GROWTH VIEW -->
                <div id="view-growth" class="hidden space-y-6 view-section">
                    <div
                        class="flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                        <h2 class="font-serif text-2xl font-bold text-gray-800">Business Growth & Insights</h2>
                        <button onclick="GrowthModule.exportCSV()"
                            class="bg-white border border-gray-300 text-gray-600 px-4 py-2 rounded text-sm font-bold hover:bg-gray-50 flex items-center gap-2">
                            <i data-lucide="download" class="w-4 h-4"></i> Download Report
                        </button>
                    </div>
                    <div id="growth-loading" class="text-center py-12">
                        <div
                            class="inline-block w-8 h-8 border-4 border-spice-red border-t-transparent rounded-full animate-spin">
                        </div>
                        <p class="mt-4 text-gray-500 font-bold">Analyzing Business Growth...</p>
                    </div>
                    <div id="growth-content" class="hidden space-y-8">
                        <!-- Growth Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="growth-stats-container"></div>

                        <!-- Analysis Cards -->
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Finance -->
                            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                                <h3 class="font-serif text-xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                                    <i data-lucide="trending-up" class="w-5 h-5 text-green-600"></i> Financial Growth
                                </h3>
                                <div id="finance-analysis" class="space-y-4"></div>
                            </div>
                            <!-- Marketing -->
                            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                                <h3 class="font-serif text-xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                                    <i data-lucide="megaphone" class="w-5 h-5 text-indigo-600"></i> Marketing Insights
                                </h3>
                                <div id="marketing-analysis" class="space-y-4"></div>
                            </div>
                        </div>

                        <!-- Retention Chart -->
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                            <h3 class="font-serif text-xl font-bold text-gray-800 mb-4">Customer Retention & Loyalty
                            </h3>
                            <div class="h-64">
                                <canvas id="retentionChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. ORDERS VIEW -->
                <div id="view-orders" class="hidden space-y-6 view-section">
                    <!-- Orders Toolbar and Table Placeholder -->
                    <div class="flex justify-between items-center">
                        <h2 class="text-gray-600">Order management module loading...</h2>
                    </div>
                </div>

                <!-- 3. PRODUCTS VIEW -->
                <div id="view-products" class="hidden space-y-6 view-section">
                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                            <h3 class="text-lg font-bold text-gray-800">Product Inventory</h3>
                            <div class="flex gap-2">
                                <select id="product-category-filter"
                                    class="border border-gray-300 rounded px-2 py-1 text-sm focus:border-spice-red outline-none">
                                    <option value="all">All Categories</option>
                                    <option value="Vegetarian">Vegetarian</option>
                                    <option value="Non-Vegetarian">Non-Vegetarian</option>
                                </select>
                                <button onclick="ProductsModule.exportCSV()"
                                    class="bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm font-bold hover:bg-gray-50 flex items-center gap-2">
                                    <i data-lucide="download" class="w-4 h-4"></i> Export
                                </button>
                                <button onclick="ProductsModule.openProductModal()"
                                    class="bg-spice-red text-white px-4 py-2 rounded text-sm font-bold hover:bg-red-700 transition-colors flex items-center gap-2">
                                    <i data-lucide="plus-circle" class="w-4 h-4"></i> Add Product
                                </button>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-50 text-gray-600 uppercase font-bold">
                                    <tr>
                                        <th class="px-6 py-3">Product</th>
                                        <th class="px-6 py-3">Category</th>
                                        <th class="px-6 py-3">Price</th>
                                        <th class="px-6 py-3">Stock & Status</th>
                                        <th class="px-6 py-3 text-right">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="products-table-body" class="divide-y divide-gray-100">
                                    <tr>
                                        <td colspan="5" class="px-6 py-8 text-center text-gray-400">Loading inventory...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Product Add/Edit Modal (Hidden) -->
                <div id="product-modal"
                    class="fixed inset-0 z-[70] flex items-center justify-center bg-black/70 backdrop-blur-sm hidden">
                    <div
                        class="bg-white rounded-lg shadow-2xl w-11/12 max-w-5xl md:h-[90vh] flex flex-col p-6 animate-in zoom-in duration-200">
                        <div class="flex justify-between items-center mb-6 border-b border-gray-100 pb-2">
                            <h3 id="product-modal-title" class="text-xl font-bold text-gray-800">Add New Product</h3>
                            <button onclick="ProductsModule.closeModal()" class="text-gray-400 hover:text-gray-700">
                                <i data-lucide="x" class="w-6 h-6"></i>
                            </button>
                        </div>
                        <form id="product-form" class="space-y-4 flex-1 overflow-y-auto px-1">
                            <input type="hidden" id="prod-id">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-1">Product Name</label>
                                <input type="text" id="prod-name" required
                                    class="w-full border border-gray-300 rounded p-2 focus:border-spice-red outline-none">
                            </div>

                            <!-- Variations Toggle -->
                            <div class="flex items-center gap-2 mb-2">
                                <input type="checkbox" id="has-variations" class="accent-spice-red w-4 h-4"
                                    onchange="ProductsModule.toggleVariationsMode()">
                                <label for="has-variations"
                                    class="text-sm font-bold text-gray-700 select-none cursor-pointer">This product has
                                    variations (e.g., Sizes)</label>
                            </div>

                            <!-- Simple Mode Inputs -->
                            <div id="simple-product-inputs" class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-1">Price (₹)</label>
                                    <input type="number" id="prod-price" min="0" step="0.01"
                                        class="w-full border border-gray-300 rounded p-2 focus:border-spice-red outline-none">
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-1">Stock Qty</label>
                                    <div class="flex gap-2 mb-1">
                                        <input type="number" id="prod-stock" min="0"
                                            class="flex-1 w-full border border-gray-300 rounded p-2 focus:border-spice-red outline-none">
                                    </div>
                                    <div class="flex gap-1">
                                        <button type="button" onclick="document.getElementById('prod-stock').value=100"
                                            class="flex-1 bg-green-100 text-green-700 hover:bg-green-200 text-xs py-1 rounded font-bold">In
                                            (100)</button>
                                        <button type="button" onclick="document.getElementById('prod-stock').value=10"
                                            class="flex-1 bg-orange-100 text-orange-700 hover:bg-orange-200 text-xs py-1 rounded font-bold">Low
                                            (10)</button>
                                        <button type="button" onclick="document.getElementById('prod-stock').value=0"
                                            class="flex-1 bg-red-100 text-red-700 hover:bg-red-200 text-xs py-1 rounded font-bold">Out
                                            (0)</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Variations Mode Inputs -->
                            <div id="variants-section"
                                class="hidden space-y-3 bg-gray-50 p-3 rounded border border-gray-200">
                                <div class="flex justify-between items-center">
                                    <label class="block text-xs font-bold text-gray-500 uppercase">Product
                                        Variations</label>
                                    <button type="button" onclick="ProductsModule.addVariantRow()"
                                        class="text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded font-bold text-gray-700 transition-colors">
                                        + Add Variant
                                    </button>
                                </div>
                                <div id="variants-container" class="space-y-2">
                                    <!-- Dynamic Rows Injected Here -->
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-1">Category (Tag)</label>
                                <input type="text" id="prod-category" list="category-options"
                                    placeholder="Select or type new category..."
                                    class="w-full border border-gray-300 rounded p-2 focus:border-spice-red outline-none">
                                <datalist id="category-options">
                                    <option value="Vegetarian"></option>
                                    <option value="Non-Vegetarian"></option>
                                    <option value="Podi"></option>
                                </datalist>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-1">Image URL</label>
                                <input type="url" id="prod-image" placeholder="https://..."
                                    class="w-full border border-gray-300 rounded p-2 focus:border-spice-red outline-none">
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-1">Description</label>
                                <textarea id="prod-desc" rows="3"
                                    class="w-full border border-gray-300 rounded p-2 focus:border-spice-red outline-none"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-1">Rating (0-5)</label>
                                <input type="number" id="prod-rating" min="0" max="5" step="0.1" value="4.5"
                                    class="w-full border border-gray-300 rounded p-2 focus:border-spice-red outline-none">
                            </div>
                            <div class="flex justify-end gap-3 pt-4 border-t border-gray-100">
                                <button type="button" onclick="ProductsModule.closeModal()"
                                    class="px-4 py-2 text-gray-600 font-bold hover:bg-gray-100 rounded">Cancel</button>
                                <button type="submit"
                                    class="px-6 py-2 bg-spice-red text-white font-bold rounded hover:bg-red-700 transition-colors shadow-md">
                                    Save Product
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- 4. CUSTOMERS VIEW -->
                <div id="view-customers" class="hidden space-y-6 view-section">
                    <h2 class="text-gray-600">Customer Insights module loading...</h2>
                </div>

                <!-- 5. INQUIRIES VIEW (Formerly Analytics) -->
                <div id="view-queries" class="hidden space-y-6 view-section">
                    <h2 class="text-gray-600">Customer Inquiries module loading...</h2>
                </div>

                <!-- 6. PROFILE / ADMIN MANAGEMENT VIEW -->
                <div id="view-profile" class="hidden space-y-6 view-section">
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-gray-800">Team Management</h3>
                            <button onclick="ProfileModule.openAddAdminModal()"
                                class="bg-spice-red text-white px-4 py-2 rounded font-bold hover:bg-red-700 transition-colors text-sm flex items-center gap-2">
                                <i data-lucide="user-plus" class="w-4 h-4"></i> Add New Admin
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-50 text-gray-600 uppercase font-bold">
                                    <tr>
                                        <th class="px-6 py-3">Name</th>
                                        <th class="px-6 py-3">Email</th>
                                        <th class="px-6 py-3">Role</th>
                                        <th class="px-6 py-3 text-right">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-list-body" class="divide-y divide-gray-100">
                                    <tr>
                                        <td colspan="4" class="px-6 py-8 text-center text-gray-400">Loading team...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Admin JS Scripts -->
    <script src="js/supabase-admin.js"></script>
    <script src="js/modules/orders.js"></script>
    <script src="js/modules/products.js"></script>
    <script src="js/modules/customers.js"></script>
    <script src="js/modules/queries.js"></script>
    <script src="js/modules/profile.js"></script>
    <script src="js/modules/dashboard.js"></script>
    <script src="js/modules/growth.js"></script>
    <script src="js/admin.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>